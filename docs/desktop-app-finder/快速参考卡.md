# Android æ¡Œé¢åº”ç”¨æŸ¥æ‰¾ - å¿«é€Ÿå‚è€ƒå¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. æ£€æŸ¥è®¾å¤‡
adb devices

# 2. è¿è¡Œæ¼”ç¤º
./demo-open-close-settings.sh

# 3. æŸ¥æ‰¾ä»»æ„åº”ç”¨
./find-and-launch-app.sh "åº”ç”¨å" "åŒ…å"
```

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### åŸºæœ¬æ“ä½œ
```bash
# è¿”å›ä¸»å±å¹•
adb shell input keyevent KEYCODE_HOME

# ç‚¹å‡»åæ ‡
adb shell input tap X Y

# æ»‘åŠ¨å±å¹•
adb shell input swipe X1 Y1 X2 Y2 300

# æˆªå±
adb shell screencap -p /sdcard/screen.png
adb pull /sdcard/screen.png
```

### åº”ç”¨ç®¡ç†
```bash
# åˆ—å‡ºåº”ç”¨
adb shell pm list packages

# å¯åŠ¨åº”ç”¨
adb shell am start -n åŒ…å/.Activity

# åœæ­¢åº”ç”¨
adb shell am force-stop åŒ…å

# ä½¿ç”¨ monkey å¯åŠ¨
adb shell monkey -p åŒ…å -c android.intent.category.LAUNCHER 1
```

### UI å±‚çº§
```bash
# å¯¼å‡º UI ç»“æ„
adb shell uiautomator dump /sdcard/ui.xml

# æ‹‰å–æ–‡ä»¶
adb pull /sdcard/ui.xml

# æŸ¥æ‰¾å…ƒç´ 
grep "åº”ç”¨å" ui.xml
```

## ğŸ“± å¸¸ç”¨åº”ç”¨åŒ…å

| åº”ç”¨ | åŒ…å |
|------|------|
| è®¾ç½® | com.android.settings |
| ç›¸æœº | com.android.camera |
| Chrome | com.android.chrome |
| å¾®ä¿¡ | com.tencent.mm |
| QQ | com.tencent.mobileqq |
| æ”¯ä»˜å® | com.eg.android.AlipayGphone |

## ğŸ”§ è„šæœ¬ä½¿ç”¨

### demo-open-close-settings.sh
```bash
# å®Œæ•´æ¼”ç¤ºï¼šæŸ¥æ‰¾ã€å¯åŠ¨ã€æˆªå›¾ã€å…³é—­
./demo-open-close-settings.sh
```

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨æŸ¥æ‰¾è®¾ç½®å›¾æ ‡
- âœ… æ”¯æŒå·¦å³æ»‘åŠ¨
- âœ… ç‚¹å‡»å¯åŠ¨
- âœ… æˆªå›¾ä¿å­˜
- âœ… è‡ªåŠ¨å…³é—­

### find-and-launch-app.sh
```bash
# åŸºæœ¬ç”¨æ³•
./find-and-launch-app.sh "åº”ç”¨å" "åŒ…å"

# æŒ‡å®š Activity
./find-and-launch-app.sh "å¾®ä¿¡" "com.tencent.mm" ".ui.LauncherUI"
```

**å‚æ•°**:
1. åº”ç”¨åç§°ï¼ˆä¸­è‹±æ–‡ï¼‰
2. åº”ç”¨åŒ…å
3. Activity åç§°ï¼ˆå¯é€‰ï¼‰

### test-all-features.sh
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./test-all-features.sh
```

**æµ‹è¯•é¡¹**: 19 é¡¹è‡ªåŠ¨åŒ–æµ‹è¯•

## ğŸ› æ•…éšœæ’é™¤

### æ‰¾ä¸åˆ°è®¾å¤‡
```bash
adb kill-server
adb start-server
adb devices
```

### æ‰¾ä¸åˆ°åº”ç”¨
```bash
# å¢åŠ æ»‘åŠ¨æ¬¡æ•°ï¼ˆç¼–è¾‘è„šæœ¬ï¼‰
MAX_SWIPES=10

# æˆ–ç›´æ¥ç”¨åŒ…åå¯åŠ¨
adb shell monkey -p åŒ…å -c android.intent.category.LAUNCHER 1
```

### ç‚¹å‡»ä½ç½®ä¸å‡†
```bash
# æ£€æŸ¥åæ ‡
adb shell uiautomator dump /sdcard/ui.xml
adb pull /sdcard/ui.xml
grep "åº”ç”¨å" ui.xml

# æ‰‹åŠ¨æµ‹è¯•
adb shell input tap X Y
```

### æƒé™é—®é¢˜
```bash
# é‡æ–°æˆæƒ USB è°ƒè¯•
# è®¾ç½® -> å¼€å‘è€…é€‰é¡¹ -> æ’¤é”€æˆæƒ -> é‡æ–°è¿æ¥
```

## ğŸ“Š æ€§èƒ½å‚è€ƒ

| åœºæ™¯ | è€—æ—¶ | æˆåŠŸç‡ |
|------|------|--------|
| å½“å‰é¡µé¢ | 2-3s | 100% |
| æ»‘åŠ¨ 1 æ¬¡ | 4-5s | 95% |
| æ»‘åŠ¨ 3 æ¬¡ | 8-10s | 90% |
| åŒ…åå¯åŠ¨ | 1-2s | 100% |

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. æ‰¹é‡æ“ä½œ
```bash
for app in "è®¾ç½®" "ç›¸æœº" "Chrome"; do
    ./find-and-launch-app.sh "$app" "..."
    sleep 2
done
```

### 2. æ€§èƒ½æµ‹è¯•
```bash
start=$(date +%s%N)
./find-and-launch-app.sh "App" "pkg"
end=$(date +%s%N)
echo "è€—æ—¶: $(( (end - start) / 1000000 ))ms"
```

### 3. é”™è¯¯å¤„ç†
```bash
if ! ./find-and-launch-app.sh "App" "pkg"; then
    echo "å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨æ–¹æ¡ˆ"
    adb shell am start -n pkg/.Activity
fi
```

### 4. æ—¥å¿—è®°å½•
```bash
./find-and-launch-app.sh "App" "pkg" 2>&1 | tee app.log
```

## ğŸ”‘ å…³é”®å‡½æ•°

### check_app_icon()
æ£€æŸ¥å½“å‰é¡µé¢æ˜¯å¦æœ‰åº”ç”¨å›¾æ ‡

### click_app_icon()
ç‚¹å‡»åº”ç”¨å›¾æ ‡ï¼ˆè‡ªåŠ¨è®¡ç®—åæ ‡ï¼‰

### swipe_screen()
æ»‘åŠ¨å±å¹•ï¼ˆleft/rightï¼‰

## ğŸ“ æ–‡ä»¶è¯´æ˜

```
â”œâ”€â”€ demo-open-close-settings.sh    # æ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ find-and-launch-app.sh         # é€šç”¨è„šæœ¬
â”œâ”€â”€ test-all-features.sh           # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ æ¡Œé¢æŸ¥æ‰¾åº”ç”¨è¯´æ˜.md             # æŠ€æœ¯æ–‡æ¡£
â”œâ”€â”€ ä½¿ç”¨ç¤ºä¾‹.md                     # ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ æ¡Œé¢åº”ç”¨æŸ¥æ‰¾README.md          # é¡¹ç›®è¯´æ˜
â””â”€â”€ å¿«é€Ÿå‚è€ƒå¡.md                   # æœ¬æ–‡ä»¶
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä½¿ç”¨å‰æµ‹è¯•**: `./test-all-features.sh`
2. **æ·»åŠ å»¶è¿Ÿ**: æ“ä½œé—´åŠ  `sleep 1-2`
3. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ `if` åˆ¤æ–­è¿”å›å€¼
4. **æ—¥å¿—è®°å½•**: ä½¿ç”¨ `tee` ä¿å­˜æ—¥å¿—
5. **èµ„æºæ¸…ç†**: æ“ä½œåå…³é—­åº”ç”¨

## ğŸ“ è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹è„šæœ¬å¸®åŠ©
./find-and-launch-app.sh

# æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
cat æ¡Œé¢æŸ¥æ‰¾åº”ç”¨è¯´æ˜.md

# æŸ¥çœ‹ä½¿ç”¨ç¤ºä¾‹
cat ä½¿ç”¨ç¤ºä¾‹.md
```

## âš¡ ä¸€é”®å‘½ä»¤

```bash
# å¯åŠ¨è®¾ç½®
./find-and-launch-app.sh "è®¾ç½®" "com.android.settings"

# å¯åŠ¨å¾®ä¿¡
./find-and-launch-app.sh "å¾®ä¿¡" "com.tencent.mm" ".ui.LauncherUI"

# å¯åŠ¨ Chrome
./find-and-launch-app.sh "Chrome" "com.android.chrome"

# è¿è¡Œæµ‹è¯•
./test-all-features.sh

# å®Œæ•´æ¼”ç¤º
./demo-open-close-settings.sh
```

---

**æç¤º**: å°†æ­¤æ–‡ä»¶ä¿å­˜ä¸ºä¹¦ç­¾ï¼Œéšæ—¶æŸ¥é˜…ï¼

**ç‰ˆæœ¬**: 1.0.0 | **æ›´æ–°**: 2024-11-27
